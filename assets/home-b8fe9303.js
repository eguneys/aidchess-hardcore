var D=Object.defineProperty;var H=(l,t,e)=>t in l?D(l,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):l[t]=e;var u=(l,t,e)=>(H(l,typeof t!="symbol"?t+"":t,e),e);import{u as K,a as N,b as $,c as p,T as L,i as n,A as Q,d as V,e as W,F as G,S as X,f as Z,t as h}from"./index-01031dfe.js";const ee=l=>l!==void 0,te=l=>{const t={get:e=>l.getItem(e),set:(e,s)=>l.setItem(e,s),remove:e=>l.removeItem(e),make:e=>({get:()=>t.get(e),set:s=>t.set(e,s),remove:()=>t.remove(e)}),makeBoolean:e=>({get:()=>t.get(e)=="1",set:s=>t.set(e,s?"1":"0"),toggle:()=>t.set(e,t.get(e)=="1"?"0":"1")})};return t},P=te(window.localStorage),le=(l,t)=>e=>{if(ee(e))return P.set(l,JSON.stringify(e)),e;const s=JSON.parse(P.get(l));return s!==null?s:t()};class se{constructor(){u(this,"_completed");this._completed=this._prop("completed",[])}_key(t){return["aidchess","challenges",t].join(".")}_prop(t,e){return le(this._key(t),()=>e)}clear(){this._completed([])}complete(t){let e=this.completeds;e.push(t),this._completed(e)}get completeds(){return this._completed()}}const f=new se,ne=(l,t)=>l.color===t.color&&l.level===t.level,ae=[{key:"20",description:"Get to 20 moves"},{key:"30",description:"Get to 30 moves"},{key:"40",description:"Get to 40 moves"}],S=class{constructor(){u(this,"check_challenge_game",(t,e)=>{t.moves.length>=80?this.complete("40",e):t.moves.length>=60?this.complete("30",e):t.moves.length>=40&&this.complete("20",e)})}get challenges(){return ae}complete(t,e){f.complete({key:t,pack:e})}completed(t,e){return f.completeds.filter(s=>s.key===t&&ne(e,s.pack)).length}clear(){f.clear()}};let _=S;u(_,"make",()=>new S);const b=_.make(),ce=h(`<div class="lobby"><div class="side"><div class="footer"></div></div><div class="app"><h2>Beat stockfish 8 the hard way.</h2><span>Play hardcore chess, where you can restart at your first mistake, and build an opening repertoire.</span><h3> Select a pack </h3><div class="packs"></div><h3 class="pack-name"></h3><h4> Select a generation </h4><small> You can select a generation when it's unlocked </small><div class="generations"><div class="generation"><span class="primary selected">G0 50/50</span></div><div class="generation"><span class="primary">G1 10/20</span></div><div class="generation"><span class="primary disabled">G2 1/5</span></div><div class="generation"><span class="primary disabled">G3 0/15</span></div></div><button class="fbt primary"> Start Game </button><div class="challenges"><h3> Challenges </h3><span class="clear"> Clear Progress </span></div></div></div>`),re=h('<div class="pack"><span> <span class="color"></span> Stockfish </span></div>'),ie=h("<div></div>"),oe=h('<span class="gray"> Uncompleted </span>'),de=h('<span class="green"> Completed <!> </span>'),B=[{level:5,color:"white"},{level:5,color:"black"},{level:8,color:"white"},{level:8,color:"black"}],ge=()=>{const l=K(),t=()=>{let{level:g,color:m}=r();l(`/hardcore?level=${g}&color=${m}`,{replace:!0})},e=()=>{b.clear(),A(void 0)},[s,I]=N(0),r=$(()=>B[s()]),J=$(()=>[r().color.toUpperCase(),"Stockfish",r().level].join(" ")),[j,A]=N(void 0,{equals:!1}),E=$(()=>(j(),b.challenges));return[p(L,{children:" aidchess.com - Build an opening repertoire against Stockfish "}),(()=>{const g=ce.cloneNode(!0),m=g.firstChild,F=m.firstChild,M=m.nextSibling,O=M.firstChild,T=O.nextSibling,U=T.nextSibling,k=U.nextSibling,y=k.nextSibling,q=y.nextSibling,R=q.nextSibling,Y=R.nextSibling,x=Y.nextSibling,C=x.nextSibling,z=C.firstChild,w=z.nextSibling;return n(F,p(Q,{href:"/about",children:"About"})),n(k,p(G,{each:B,children:(c,i)=>(()=>{const o=re.cloneNode(!0),a=o.firstChild,v=a.firstChild,d=v.nextSibling;return d.nextSibling,a.$$click=()=>{I(i())},n(d,()=>c.color),n(a,()=>c.level,null),V(()=>W(a,"primary"+(c===r()?" selected":""))),o})()})),n(y,J),x.$$click=()=>t(),n(C,p(G,{get each(){return E()},children:c=>(()=>{const i=ie.cloneNode(!0);return n(i,()=>c.description,null),n(i,p(X,{keyed:!0,get when(){return b.completed(c.key,r())},get fallback(){return oe.cloneNode(!0)},children:o=>(()=>{const a=de.cloneNode(!0),v=a.firstChild,d=v.nextSibling;return d.nextSibling,n(a,o>1?`x${o}`:"",d),a})()}),null),i})()}),w),w.$$click=()=>e(),g})()]};Z(["click"]);export{ge as default};
