var i=Object.defineProperty;var p=(o,t,e)=>t in o?i(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e;var l=(o,t,e)=>(p(o,typeof t!="symbol"?t+"":t,e),e);const h=o=>o!==void 0,d=o=>{const t={get:e=>o.getItem(e),set:(e,s)=>o.setItem(e,s),remove:e=>o.removeItem(e),make:e=>({get:()=>t.get(e),set:s=>t.set(e,s),remove:()=>t.remove(e)}),makeBoolean:e=>({get:()=>t.get(e)=="1",set:s=>t.set(e,s?"1":"0"),toggle:()=>t.set(e,t.get(e)=="1"?"0":"1")})};return t},m=d(window.localStorage),g=(o,t)=>e=>{if(h(e))return m.set(o,JSON.stringify(e)),e;const s=JSON.parse(m.get(o));return s!==null?s:t()};class a{constructor(){l(this,"_completed");this._completed=this._prop("completed",[])}_key(t){return["aidchess","challenges",t].join(".")}_prop(t,e){return g(this._key(t),()=>e)}clear(){this._completed([])}complete(t){let e=this.completeds;e.push(t),this._completed(e)}get completeds(){return this._completed()}}const r=new a,u=(o,t)=>o.color===t.color&&o.level===t.level,v=[{key:"20",description:"Get to 20 moves"},{key:"30",description:"Get to 30 moves"},{key:"40",description:"Get to 40 moves"}],n=class{constructor(){l(this,"check_challenge_game",(t,e)=>{t.moves.length>=80?this.complete("40",e):t.moves.length>=60?this.complete("30",e):t.moves.length>=40&&this.complete("20",e)})}get challenges(){return v}complete(t,e){r.complete({key:t,pack:e})}completed(t,e){return r.completeds.filter(s=>s.key===t&&u(e,s.pack)).length}clear(){r.clear()}};let c=n;l(c,"make",()=>new n);const f=c.make();export{f as C};
